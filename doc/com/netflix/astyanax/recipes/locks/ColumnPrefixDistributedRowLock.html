<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_29) on Mon Apr 30 10:10:28 PDT 2012 -->
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<TITLE>
ColumnPrefixDistributedRowLock (astyanax 0.8.12 API)
</TITLE>

<META NAME="date" CONTENT="2012-04-30">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ColumnPrefixDistributedRowLock (astyanax 0.8.12 API)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/ColumnPrefixDistributedRowLock.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../com/netflix/astyanax/recipes/locks/BusyLockException.html" title="class in com.netflix.astyanax.recipes.locks"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../com/netflix/astyanax/recipes/locks/DistributedRowLock.html" title="interface in com.netflix.astyanax.recipes.locks"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?com/netflix/astyanax/recipes/locks/ColumnPrefixDistributedRowLock.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ColumnPrefixDistributedRowLock.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.netflix.astyanax.recipes.locks</FONT>
<BR>
Class ColumnPrefixDistributedRowLock&lt;K&gt;</H2>
<PRE>
<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</A>
  <IMG SRC="../../../../../resources/inherit.gif" ALT="extended by "><B>com.netflix.astyanax.recipes.locks.ColumnPrefixDistributedRowLock&lt;K&gt;</B>
</PRE>
<DL>
<DT><DT><B>Type Parameters:</B><DD><CODE>K</CODE> - </DL>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD><A HREF="../../../../../com/netflix/astyanax/recipes/locks/DistributedRowLock.html" title="interface in com.netflix.astyanax.recipes.locks">DistributedRowLock</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public class <B>ColumnPrefixDistributedRowLock&lt;K&gt;</B><DT>extends <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A><DT>implements <A HREF="../../../../../com/netflix/astyanax/recipes/locks/DistributedRowLock.html" title="interface in com.netflix.astyanax.recipes.locks">DistributedRowLock</A></DL>
</PRE>

<P>
Takes a distributed row lock for a single row.
 
 Algorithm 1. Write a column with name <prefix>_<uuid>. Value is a TTL. 2.
 Read back all columns with <prefix> a) count==1 Got the lock b) otherwise
 Look for stale locks a) count==1 Got the lock b) otherwise No lock
<P>

<P>
<DL>
<DT><B>Author:</B></DT>
  <DD>elandau</DD>
</DL>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/netflix/astyanax/recipes/locks/ColumnPrefixDistributedRowLock.html#DEFAULT_LOCK_PREFIX">DEFAULT_LOCK_PREFIX</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="http://download.oracle.com/javase/6/docs/api/java/util/concurrent/TimeUnit.html?is-external=true" title="class or interface in java.util.concurrent">TimeUnit</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/netflix/astyanax/recipes/locks/ColumnPrefixDistributedRowLock.html#DEFAULT_OPERATION_TIMEOUT_UNITS">DEFAULT_OPERATION_TIMEOUT_UNITS</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/netflix/astyanax/recipes/locks/ColumnPrefixDistributedRowLock.html#LOCK_TIMEOUT">LOCK_TIMEOUT</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../../com/netflix/astyanax/recipes/locks/ColumnPrefixDistributedRowLock.html#ColumnPrefixDistributedRowLock(com.netflix.astyanax.Keyspace, com.netflix.astyanax.model.ColumnFamily, K)">ColumnPrefixDistributedRowLock</A></B>(<A HREF="../../../../../com/netflix/astyanax/Keyspace.html" title="interface in com.netflix.astyanax">Keyspace</A>&nbsp;keyspace,
                               <A HREF="../../../../../com/netflix/astyanax/model/ColumnFamily.html" title="class in com.netflix.astyanax.model">ColumnFamily</A>&lt;<A HREF="../../../../../com/netflix/astyanax/recipes/locks/ColumnPrefixDistributedRowLock.html" title="type parameter in ColumnPrefixDistributedRowLock">K</A>,<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&gt;&nbsp;columnFamily,
                               <A HREF="../../../../../com/netflix/astyanax/recipes/locks/ColumnPrefixDistributedRowLock.html" title="type parameter in ColumnPrefixDistributedRowLock">K</A>&nbsp;key)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/netflix/astyanax/recipes/locks/ColumnPrefixDistributedRowLock.html#acquire()">acquire</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Write a lock column using the current time</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../com/netflix/astyanax/recipes/locks/ColumnPrefixDistributedRowLock.html" title="class in com.netflix.astyanax.recipes.locks">ColumnPrefixDistributedRowLock</A>&lt;<A HREF="../../../../../com/netflix/astyanax/recipes/locks/ColumnPrefixDistributedRowLock.html" title="type parameter in ColumnPrefixDistributedRowLock">K</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/netflix/astyanax/recipes/locks/ColumnPrefixDistributedRowLock.html#expireLockAfter(long, java.util.concurrent.TimeUnit)">expireLockAfter</A></B>(long&nbsp;timeout,
                <A HREF="http://download.oracle.com/javase/6/docs/api/java/util/concurrent/TimeUnit.html?is-external=true" title="class or interface in java.util.concurrent">TimeUnit</A>&nbsp;unit)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Time for failed locks.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../com/netflix/astyanax/recipes/locks/ColumnPrefixDistributedRowLock.html" title="class in com.netflix.astyanax.recipes.locks">ColumnPrefixDistributedRowLock</A>&lt;<A HREF="../../../../../com/netflix/astyanax/recipes/locks/ColumnPrefixDistributedRowLock.html" title="type parameter in ColumnPrefixDistributedRowLock">K</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/netflix/astyanax/recipes/locks/ColumnPrefixDistributedRowLock.html#failOnStaleLock(boolean)">failOnStaleLock</A></B>(boolean&nbsp;failOnStaleLock)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;When set to true the operation will fail if a stale lock is detected</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/netflix/astyanax/recipes/locks/ColumnPrefixDistributedRowLock.html#fillLockMutation(com.netflix.astyanax.MutationBatch, java.lang.Long, java.lang.Integer)">fillLockMutation</A></B>(<A HREF="../../../../../com/netflix/astyanax/MutationBatch.html" title="interface in com.netflix.astyanax">MutationBatch</A>&nbsp;m,
                 <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</A>&nbsp;time,
                 <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</A>&nbsp;ttl)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Fill a mutation with the lock column.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/netflix/astyanax/recipes/locks/ColumnPrefixDistributedRowLock.html#fillReleaseMutation(com.netflix.astyanax.MutationBatch)">fillReleaseMutation</A></B>(<A HREF="../../../../../com/netflix/astyanax/MutationBatch.html" title="interface in com.netflix.astyanax">MutationBatch</A>&nbsp;m)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Fill a mutation that will release the locks.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../com/netflix/astyanax/model/ConsistencyLevel.html" title="enum in com.netflix.astyanax.model">ConsistencyLevel</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/netflix/astyanax/recipes/locks/ColumnPrefixDistributedRowLock.html#getConsistencyLevel()">getConsistencyLevel</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../com/netflix/astyanax/Keyspace.html" title="interface in com.netflix.astyanax">Keyspace</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/netflix/astyanax/recipes/locks/ColumnPrefixDistributedRowLock.html#getKeyspace()">getKeyspace</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/netflix/astyanax/recipes/locks/ColumnPrefixDistributedRowLock.html#getLockColumn()">getLockColumn</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://download.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</A>&lt;<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>,<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/netflix/astyanax/recipes/locks/ColumnPrefixDistributedRowLock.html#readLockColumns()">readLockColumns</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return a mapping of existing lock columns and their expiration time</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/netflix/astyanax/recipes/locks/ColumnPrefixDistributedRowLock.html#release()">release</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Release the lock by releasing this and any other stale lock columns</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://download.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</A>&lt;<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>,<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/netflix/astyanax/recipes/locks/ColumnPrefixDistributedRowLock.html#releaseAllLocks()">releaseAllLocks</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Release all locks.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://download.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</A>&lt;<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>,<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/netflix/astyanax/recipes/locks/ColumnPrefixDistributedRowLock.html#releaseExpiredLocks()">releaseExpiredLocks</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Release all expired locks for this key.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://download.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</A>&lt;<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>,<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/netflix/astyanax/recipes/locks/ColumnPrefixDistributedRowLock.html#releaseLocks(boolean)">releaseLocks</A></B>(boolean&nbsp;force)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Delete locks columns.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/netflix/astyanax/recipes/locks/ColumnPrefixDistributedRowLock.html#verifyLock(long)">verifyLock</A></B>(long&nbsp;curTimeMicros)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Verify that the lock was acquired</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../com/netflix/astyanax/recipes/locks/ColumnPrefixDistributedRowLock.html" title="class in com.netflix.astyanax.recipes.locks">ColumnPrefixDistributedRowLock</A>&lt;<A HREF="../../../../../com/netflix/astyanax/recipes/locks/ColumnPrefixDistributedRowLock.html" title="type parameter in ColumnPrefixDistributedRowLock">K</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/netflix/astyanax/recipes/locks/ColumnPrefixDistributedRowLock.html#withColumnPrefix(java.lang.String)">withColumnPrefix</A></B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;prefix)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Specify the prefix that uniquely distinguishes the lock columns from data
 column</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../com/netflix/astyanax/recipes/locks/ColumnPrefixDistributedRowLock.html" title="class in com.netflix.astyanax.recipes.locks">ColumnPrefixDistributedRowLock</A>&lt;<A HREF="../../../../../com/netflix/astyanax/recipes/locks/ColumnPrefixDistributedRowLock.html" title="type parameter in ColumnPrefixDistributedRowLock">K</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/netflix/astyanax/recipes/locks/ColumnPrefixDistributedRowLock.html#withConsistencyLevel(com.netflix.astyanax.model.ConsistencyLevel)">withConsistencyLevel</A></B>(<A HREF="../../../../../com/netflix/astyanax/model/ConsistencyLevel.html" title="enum in com.netflix.astyanax.model">ConsistencyLevel</A>&nbsp;consistencyLevel)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Modify the consistency level being used.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../com/netflix/astyanax/recipes/locks/ColumnPrefixDistributedRowLock.html" title="class in com.netflix.astyanax.recipes.locks">ColumnPrefixDistributedRowLock</A>&lt;<A HREF="../../../../../com/netflix/astyanax/recipes/locks/ColumnPrefixDistributedRowLock.html" title="type parameter in ColumnPrefixDistributedRowLock">K</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/netflix/astyanax/recipes/locks/ColumnPrefixDistributedRowLock.html#withLockColumn(java.lang.String)">withLockColumn</A></B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;column)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Override the autogenerated lock column.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../com/netflix/astyanax/recipes/locks/ColumnPrefixDistributedRowLock.html" title="class in com.netflix.astyanax.recipes.locks">ColumnPrefixDistributedRowLock</A>&lt;<A HREF="../../../../../com/netflix/astyanax/recipes/locks/ColumnPrefixDistributedRowLock.html" title="type parameter in ColumnPrefixDistributedRowLock">K</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/netflix/astyanax/recipes/locks/ColumnPrefixDistributedRowLock.html#withTtl(java.lang.Integer)">withTtl</A></B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</A>&nbsp;ttl)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/netflix/astyanax/recipes/locks/ColumnPrefixDistributedRowLock.html#writeLockColumn(long)">writeLockColumn</A></B>(long&nbsp;time)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Write a lock for the specified time.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="LOCK_TIMEOUT"><!-- --></A><H3>
LOCK_TIMEOUT</H3>
<PRE>
public static final int <B>LOCK_TIMEOUT</B></PRE>
<DL>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../../constant-values.html#com.netflix.astyanax.recipes.locks.ColumnPrefixDistributedRowLock.LOCK_TIMEOUT">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="DEFAULT_OPERATION_TIMEOUT_UNITS"><!-- --></A><H3>
DEFAULT_OPERATION_TIMEOUT_UNITS</H3>
<PRE>
public static final <A HREF="http://download.oracle.com/javase/6/docs/api/java/util/concurrent/TimeUnit.html?is-external=true" title="class or interface in java.util.concurrent">TimeUnit</A> <B>DEFAULT_OPERATION_TIMEOUT_UNITS</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="DEFAULT_LOCK_PREFIX"><!-- --></A><H3>
DEFAULT_LOCK_PREFIX</H3>
<PRE>
public static final <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <B>DEFAULT_LOCK_PREFIX</B></PRE>
<DL>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../../constant-values.html#com.netflix.astyanax.recipes.locks.ColumnPrefixDistributedRowLock.DEFAULT_LOCK_PREFIX">Constant Field Values</A></DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="ColumnPrefixDistributedRowLock(com.netflix.astyanax.Keyspace,com.netflix.astyanax.model.ColumnFamily,java.lang.Object)"><!-- --></A><A NAME="ColumnPrefixDistributedRowLock(com.netflix.astyanax.Keyspace, com.netflix.astyanax.model.ColumnFamily, K)"><!-- --></A><H3>
ColumnPrefixDistributedRowLock</H3>
<PRE>
public <B>ColumnPrefixDistributedRowLock</B>(<A HREF="../../../../../com/netflix/astyanax/Keyspace.html" title="interface in com.netflix.astyanax">Keyspace</A>&nbsp;keyspace,
                                      <A HREF="../../../../../com/netflix/astyanax/model/ColumnFamily.html" title="class in com.netflix.astyanax.model">ColumnFamily</A>&lt;<A HREF="../../../../../com/netflix/astyanax/recipes/locks/ColumnPrefixDistributedRowLock.html" title="type parameter in ColumnPrefixDistributedRowLock">K</A>,<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&gt;&nbsp;columnFamily,
                                      <A HREF="../../../../../com/netflix/astyanax/recipes/locks/ColumnPrefixDistributedRowLock.html" title="type parameter in ColumnPrefixDistributedRowLock">K</A>&nbsp;key)</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="withConsistencyLevel(com.netflix.astyanax.model.ConsistencyLevel)"><!-- --></A><H3>
withConsistencyLevel</H3>
<PRE>
public <A HREF="../../../../../com/netflix/astyanax/recipes/locks/ColumnPrefixDistributedRowLock.html" title="class in com.netflix.astyanax.recipes.locks">ColumnPrefixDistributedRowLock</A>&lt;<A HREF="../../../../../com/netflix/astyanax/recipes/locks/ColumnPrefixDistributedRowLock.html" title="type parameter in ColumnPrefixDistributedRowLock">K</A>&gt; <B>withConsistencyLevel</B>(<A HREF="../../../../../com/netflix/astyanax/model/ConsistencyLevel.html" title="enum in com.netflix.astyanax.model">ConsistencyLevel</A>&nbsp;consistencyLevel)</PRE>
<DL>
<DD>Modify the consistency level being used. Consistency should always be a
 variant of quorum. The default is CL_QUORUM, which is OK for single
 region. For multi region the consistency level should be CL_LOCAL_QUORUM.
 CL_EACH_QUORUM can be used but will Incur substantial latency.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>consistencyLevel</CODE> - 
<DT><B>Returns:</B><DD></DL>
</DD>
</DL>
<HR>

<A NAME="withColumnPrefix(java.lang.String)"><!-- --></A><H3>
withColumnPrefix</H3>
<PRE>
public <A HREF="../../../../../com/netflix/astyanax/recipes/locks/ColumnPrefixDistributedRowLock.html" title="class in com.netflix.astyanax.recipes.locks">ColumnPrefixDistributedRowLock</A>&lt;<A HREF="../../../../../com/netflix/astyanax/recipes/locks/ColumnPrefixDistributedRowLock.html" title="type parameter in ColumnPrefixDistributedRowLock">K</A>&gt; <B>withColumnPrefix</B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;prefix)</PRE>
<DL>
<DD>Specify the prefix that uniquely distinguishes the lock columns from data
 column
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>prefix</CODE> - 
<DT><B>Returns:</B><DD></DL>
</DD>
</DL>
<HR>

<A NAME="withLockColumn(java.lang.String)"><!-- --></A><H3>
withLockColumn</H3>
<PRE>
public <A HREF="../../../../../com/netflix/astyanax/recipes/locks/ColumnPrefixDistributedRowLock.html" title="class in com.netflix.astyanax.recipes.locks">ColumnPrefixDistributedRowLock</A>&lt;<A HREF="../../../../../com/netflix/astyanax/recipes/locks/ColumnPrefixDistributedRowLock.html" title="type parameter in ColumnPrefixDistributedRowLock">K</A>&gt; <B>withLockColumn</B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;column)</PRE>
<DL>
<DD>Override the autogenerated lock column.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>column</CODE> - 
<DT><B>Returns:</B><DD></DL>
</DD>
</DL>
<HR>

<A NAME="failOnStaleLock(boolean)"><!-- --></A><H3>
failOnStaleLock</H3>
<PRE>
public <A HREF="../../../../../com/netflix/astyanax/recipes/locks/ColumnPrefixDistributedRowLock.html" title="class in com.netflix.astyanax.recipes.locks">ColumnPrefixDistributedRowLock</A>&lt;<A HREF="../../../../../com/netflix/astyanax/recipes/locks/ColumnPrefixDistributedRowLock.html" title="type parameter in ColumnPrefixDistributedRowLock">K</A>&gt; <B>failOnStaleLock</B>(boolean&nbsp;failOnStaleLock)</PRE>
<DL>
<DD>When set to true the operation will fail if a stale lock is detected
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>failOnStaleLock</CODE> - 
<DT><B>Returns:</B><DD></DL>
</DD>
</DL>
<HR>

<A NAME="expireLockAfter(long, java.util.concurrent.TimeUnit)"><!-- --></A><H3>
expireLockAfter</H3>
<PRE>
public <A HREF="../../../../../com/netflix/astyanax/recipes/locks/ColumnPrefixDistributedRowLock.html" title="class in com.netflix.astyanax.recipes.locks">ColumnPrefixDistributedRowLock</A>&lt;<A HREF="../../../../../com/netflix/astyanax/recipes/locks/ColumnPrefixDistributedRowLock.html" title="type parameter in ColumnPrefixDistributedRowLock">K</A>&gt; <B>expireLockAfter</B>(long&nbsp;timeout,
                                                         <A HREF="http://download.oracle.com/javase/6/docs/api/java/util/concurrent/TimeUnit.html?is-external=true" title="class or interface in java.util.concurrent">TimeUnit</A>&nbsp;unit)</PRE>
<DL>
<DD>Time for failed locks. Under normal circumstances the lock column will be
 deleted. If not then this lock column will remain and the row will remain
 locked. The lock will expire after this timeout.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>timeout</CODE> - <DD><CODE>unit</CODE> - 
<DT><B>Returns:</B><DD></DL>
</DD>
</DL>
<HR>

<A NAME="withTtl(java.lang.Integer)"><!-- --></A><H3>
withTtl</H3>
<PRE>
public <A HREF="../../../../../com/netflix/astyanax/recipes/locks/ColumnPrefixDistributedRowLock.html" title="class in com.netflix.astyanax.recipes.locks">ColumnPrefixDistributedRowLock</A>&lt;<A HREF="../../../../../com/netflix/astyanax/recipes/locks/ColumnPrefixDistributedRowLock.html" title="type parameter in ColumnPrefixDistributedRowLock">K</A>&gt; <B>withTtl</B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</A>&nbsp;ttl)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="acquire()"><!-- --></A><H3>
acquire</H3>
<PRE>
public void <B>acquire</B>()
             throws <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</A></PRE>
<DL>
<DD>Write a lock column using the current time
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../com/netflix/astyanax/recipes/locks/DistributedRowLock.html#acquire()">acquire</A></CODE> in interface <CODE><A HREF="../../../../../com/netflix/astyanax/recipes/locks/DistributedRowLock.html" title="interface in com.netflix.astyanax.recipes.locks">DistributedRowLock</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="verifyLock(long)"><!-- --></A><H3>
verifyLock</H3>
<PRE>
public void <B>verifyLock</B>(long&nbsp;curTimeMicros)
                throws <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</A>,
                       <A HREF="../../../../../com/netflix/astyanax/recipes/locks/BusyLockException.html" title="class in com.netflix.astyanax.recipes.locks">BusyLockException</A>,
                       <A HREF="../../../../../com/netflix/astyanax/recipes/locks/StaleLockException.html" title="class in com.netflix.astyanax.recipes.locks">StaleLockException</A></PRE>
<DL>
<DD>Verify that the lock was acquired
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>curTimeMicros</CODE> - 
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</A></CODE>
<DD><CODE><A HREF="../../../../../com/netflix/astyanax/recipes/locks/BusyLockException.html" title="class in com.netflix.astyanax.recipes.locks">BusyLockException</A></CODE>
<DD><CODE><A HREF="../../../../../com/netflix/astyanax/recipes/locks/StaleLockException.html" title="class in com.netflix.astyanax.recipes.locks">StaleLockException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="release()"><!-- --></A><H3>
release</H3>
<PRE>
public void <B>release</B>()
             throws <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</A></PRE>
<DL>
<DD>Release the lock by releasing this and any other stale lock columns
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../com/netflix/astyanax/recipes/locks/DistributedRowLock.html#release()">release</A></CODE> in interface <CODE><A HREF="../../../../../com/netflix/astyanax/recipes/locks/DistributedRowLock.html" title="interface in com.netflix.astyanax.recipes.locks">DistributedRowLock</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="fillReleaseMutation(com.netflix.astyanax.MutationBatch)"><!-- --></A><H3>
fillReleaseMutation</H3>
<PRE>
public void <B>fillReleaseMutation</B>(<A HREF="../../../../../com/netflix/astyanax/MutationBatch.html" title="interface in com.netflix.astyanax">MutationBatch</A>&nbsp;m)</PRE>
<DL>
<DD>Fill a mutation that will release the locks. This may be used from a
 separate recipe to release multiple locks.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>m</CODE> - </DL>
</DD>
</DL>
<HR>

<A NAME="readLockColumns()"><!-- --></A><H3>
readLockColumns</H3>
<PRE>
public <A HREF="http://download.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</A>&lt;<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>,<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</A>&gt; <B>readLockColumns</B>()
                                 throws <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</A></PRE>
<DL>
<DD>Return a mapping of existing lock columns and their expiration time
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="releaseAllLocks()"><!-- --></A><H3>
releaseAllLocks</H3>
<PRE>
public <A HREF="http://download.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</A>&lt;<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>,<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</A>&gt; <B>releaseAllLocks</B>()
                                 throws <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</A></PRE>
<DL>
<DD>Release all locks. Use this carefully as it could release a lock for a
 running operation
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="releaseExpiredLocks()"><!-- --></A><H3>
releaseExpiredLocks</H3>
<PRE>
public <A HREF="http://download.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</A>&lt;<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>,<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</A>&gt; <B>releaseExpiredLocks</B>()
                                     throws <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</A></PRE>
<DL>
<DD>Release all expired locks for this key.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="releaseLocks(boolean)"><!-- --></A><H3>
releaseLocks</H3>
<PRE>
public <A HREF="http://download.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</A>&lt;<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>,<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</A>&gt; <B>releaseLocks</B>(boolean&nbsp;force)
                              throws <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</A></PRE>
<DL>
<DD>Delete locks columns. Set force=true to remove locks that haven't been
 expired yet.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>force</CODE> - 
<DT><B>Returns:</B><DD>
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="writeLockColumn(long)"><!-- --></A><H3>
writeLockColumn</H3>
<PRE>
protected <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <B>writeLockColumn</B>(long&nbsp;time)
                          throws <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</A></PRE>
<DL>
<DD>Write a lock for the specified time.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>time</CODE> - 
<DT><B>Returns:</B><DD>The column name for the lock
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="fillLockMutation(com.netflix.astyanax.MutationBatch, java.lang.Long, java.lang.Integer)"><!-- --></A><H3>
fillLockMutation</H3>
<PRE>
public void <B>fillLockMutation</B>(<A HREF="../../../../../com/netflix/astyanax/MutationBatch.html" title="interface in com.netflix.astyanax">MutationBatch</A>&nbsp;m,
                             <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</A>&nbsp;time,
                             <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</A>&nbsp;ttl)</PRE>
<DL>
<DD>Fill a mutation with the lock column. This may be used when the mutation
 is executed externally but should be used with extreme caution to ensure
 the lock is properly release
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>m</CODE> - <DD><CODE>time</CODE> - <DD><CODE>ttl</CODE> - </DL>
</DD>
</DL>
<HR>

<A NAME="getKeyspace()"><!-- --></A><H3>
getKeyspace</H3>
<PRE>
public <A HREF="../../../../../com/netflix/astyanax/Keyspace.html" title="interface in com.netflix.astyanax">Keyspace</A> <B>getKeyspace</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getConsistencyLevel()"><!-- --></A><H3>
getConsistencyLevel</H3>
<PRE>
public <A HREF="../../../../../com/netflix/astyanax/model/ConsistencyLevel.html" title="enum in com.netflix.astyanax.model">ConsistencyLevel</A> <B>getConsistencyLevel</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getLockColumn()"><!-- --></A><H3>
getLockColumn</H3>
<PRE>
public <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <B>getLockColumn</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/ColumnPrefixDistributedRowLock.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../com/netflix/astyanax/recipes/locks/BusyLockException.html" title="class in com.netflix.astyanax.recipes.locks"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../com/netflix/astyanax/recipes/locks/DistributedRowLock.html" title="interface in com.netflix.astyanax.recipes.locks"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?com/netflix/astyanax/recipes/locks/ColumnPrefixDistributedRowLock.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ColumnPrefixDistributedRowLock.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Copyright &#169; 2012. All Rights Reserved.
</BODY>
</HTML>
